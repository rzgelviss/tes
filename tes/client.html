<html>
<head>
  <title>Simple client</title>

  <script type="text/javascript">

    var ws;
    
    function init() {

      // Connect to Web Socket
      // ws = new WebSocket("ws://192.168.32.140:9001/");
      ws = new WebSocket("ws://192.168.1.117:9001/");

      // Set event handlers.
      ws.onopen = function() {
        output("onopen");
      };
      
      ws.onmessage = function(e) {
        // e.data contains received string.
        output("onmessage: " + e.data);
      };
      
      ws.onclose = function() {
        output("onclose");
      };

      ws.onerror = function(e) {
        output("onerror");
        console.log(e)
      };

    }
    
    function onSubmit() {
      var input = document.getElementById("input");
      // You can send message to the Web Socket using ws.send.
      var data = {'meeting': 'meeting3',
        'flage': 2,//1 返回每个人特征值，2 返回每个人相关的图片的url
        "photos":[
                {"a":"https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=a9e671b9a551f3dedcb2bf64a4eff0ec/4610b912c8fcc3cef70d70409845d688d53f20f7.jpg"},
				{"b":"https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=a9e671b9a551f3dedcb2bf64a4eff0ec/4610b912c8fcc3cef70d70409845d688d53f20f7.jpg"},
				{"c":"https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=a9e671b9a551f3dedcb2bf64a4eff0ec/4610b912c8fcc3cef70d70409845d688d53f20f7.jpg"},
                {'d': './7.jpg'},
                {'e': './unknown/11134032e87623113b7ceb7bf8aea86.jpg'},
				],
        "persons":[
                    //{"aa":["VVyqvSgzLz1skOY9jL3SvS9gjb071qW75nQzvp6Q9L0lnA8+zVEdvujRCz6vH4m96/skvuaUVLver5y9Mk93Pqg58r3AWBi+/sAOvaGLkryaITg9ZIeWPKuOkjwhsbU8IozHvRvCpb6C8AK+4/u5vByeob2Mppy9IvGfvXEuLD0eYEy+8AyMO0O3mDzpJvI9cbaHPJdEB76RggY+ih9zPGYDn77glXY9wwPPPWvPWz46WnU+n5KHvKTC7bxA8Qy+ukLnPWxNPL7fZc480TbdPZd+ND0T05Y9sPWnvHCOp71p+6Q9uYTbPe2VHr4k49C8sJHePTRDBr40BW28isPMvbulUj5fZSM+KTzcvVJdf74K8IU98UYOvprqXL1rXpE91Fo2voldSL5zdqi+wIPZOyRCoT5SfhA+Qo84vooZ2z1UdkK8gNlHPClCwz3Fa1I+eyQPPTmTtz0K1I68Svf7PKiAiz49l5i97LEbvSx5VT5v5R29uSQ+PVjwR7zt1oQ9UP5xvZNnAj1KakG+9f7UvIAufrp2H089L/RAPP/y7z3t/DC+XpkPPiOukLzcWje8jqDdO67hm7yZkma9rJRqvWqODj5oJka+kbwfPqpaPj5Ey/U96mjJPZUaHD7+Sc89dg9PO7hVBruOGT2+XEfXPJfv5D2pb+i7Do/0PSiRHj0="]},
		            //{"bb":[[-0.08318392, 0.0427734 , 0.11258015, -0.10290059, -0.06903111, -0.00506094, -0.17525062, -0.11941646, 0.14024408, -0.15363236, 0.13654292, -0.06695496, -0.16111724, -0.00324374, -0.07650732, 0.24151304, -0.11827403, -0.14877605, -0.03485202, -0.01788885, 0.04495392, 0.01837511, 0.0178903 , 0.02217919, -0.09743525, -0.32374653, -0.12787059, -0.02270312, -0.07891485, -0.07648954, -0.07809664, 0.04203648, -0.19958541, 0.004274 , 0.01864207, 0.11823828, 0.01656649, -0.13209759, 0.13135745, 0.01483906, -0.3105728 , 0.06020153, 0.10108139, 0.21465842, 0.239602 , -0.01654941, -0.02902348, -0.13763905, 0.11292024, -0.18388909, 0.02519506, 0.10801471, 0.04406604, 0.07364478, -0.0205029 , -0.08181465, 0.08055765, 0.10718674, -0.1548688 , -0.02549893, 0.10867631, -0.13111573, -0.01446657, -0.09998234, 0.20571034, 0.15956639, -0.10753662, -0.24937943, 0.06539924, -0.13894249, -0.05393467, 0.07098087, -0.17808086, -0.19566931, -0.3290287 , 0.00663802, 0.31495774, 0.14110687, -0.18023399, 0.10698231, -0.01186903, 0.01219785, 0.09534103, 0.20548923, 0.0349469 , 0.08963627, -0.01743509, 0.03075757, 0.27246594, -0.07450721, -0.03801148, 0.20847005, -0.03854888, 0.04642174, -0.0122033 , 0.06486306, -0.05908042, 0.03183706, -0.18888202, -0.02600048, -0.00096963, 0.05056711, 0.01177697, 0.1171627 , -0.17283984, 0.14023349, -0.01766116, -0.0111911 , 0.00676352, -0.01902851, -0.05629215, -0.05727069, 0.13921514, -0.19350588, 0.15599276, 0.18589273, 0.1200166 , 0.09834464, 0.15244515, 0.10121535, 0.00315949, -0.00204979, -0.1846678 , 0.02627914, 0.11178511, -0.00709339, 0.11941348, 0.03871265]]},
		            //{"dd":[[-0.0731583759188652, 0.09727660566568375, 0.0677388608455658, 0.038292646408081055, -0.09812582284212112, -0.03805254399776459, -0.04099501669406891, -0.13411229848861694, 0.11092779785394669, -0.05400315672159195, 0.24544186890125275, -0.0745258554816246, -0.22160862386226654, -0.04688931256532669, -0.026107104495167732, 0.16192978620529175, -0.153874933719635, -0.12239967286586761, -0.0772668719291687, 0.04696503281593323, 0.0003510544775053859, 0.04266807809472084, 0.03893350809812546, 0.020043544471263885, -0.004969136789441109, -0.35176876187324524, -0.11891550570726395, -0.13649581372737885, 0.05653595179319382, -0.05530042201280594, -0.07764505594968796, 0.048989538103342056, -0.10434753447771072, -0.018475845456123352, 0.04284469410777092, 0.03911535069346428, -0.05107550323009491, -0.03666223585605621, 0.21372303366661072, -0.04482880234718323, -0.2822771370410919, -0.020774606615304947, 0.03814493119716644, 0.2231064736843109, 0.24499715864658356, 0.03682873770594597, -0.03797564655542374, -0.11644253879785538, 0.023851078003644943, -0.1311015635728836, 0.01688869297504425, 0.19022752344608307, 0.11519371718168259, 0.0760212391614914, -0.04026853293180466, -0.13087251782417297, -0.012588832527399063, 0.09993796050548553, -0.1339448094367981, -0.03886688873171806, 0.08388245850801468, -0.10589353740215302, 0.0006591686978936195, -0.022203901782631874, 0.263717919588089, 0.07077018916606903, -0.12481465190649033, -0.15532265603542328, 0.1203465387225151, -0.19671519100666046, -0.08902392536401749, 0.06639447063207626, -0.20142629742622375, -0.1732901930809021, -0.2825011909008026, -0.015700288116931915, 0.4079560935497284, 0.05446065962314606, -0.18311958014965057, 0.01789059303700924, -0.08728092163801193, -0.030996575951576233, 0.08190810680389404, 0.14730747044086456, -0.06059671938419342, -0.03383280336856842, -0.11374008655548096, -0.05153920501470566, 0.20628446340560913, -0.10885865986347198, -0.0026098713278770447, 0.17050039768218994, -0.04097823053598404, 0.07050587236881256, 0.015178229659795761, 0.005181643180549145, 0.018325645476579666, -0.007885276339948177, -0.13230815529823303, -0.059220295399427414, -0.013044399209320545, -0.03935413435101509, -0.009871190413832664, 0.14096109569072723, -0.15184667706489563, 0.08163035660982132, 0.050393570214509964, 0.04185589402914047, 0.07364138215780258, -0.007724294904619455, -0.05097495764493942, -0.11995098739862442, 0.2040654420852661, -0.17885063588619232, 0.206389918923378, 0.1591986119747162, 0.06534719467163086, 0.08091239631175995, 0.09208972752094269, 0.12321016192436218, -0.06538644433021545, -0.033952824771404266, -0.22792530059814453, 0.030354106798768044, 0.1077907606959343, -0.003861858509480953, 0.054023269563913345, 0.004661581479012966]]},
                    {"d":["D9SVvfU4xz2suoo9wNgcPTH2yL383Bu9ZOonvbxUCb4dLuM9ajJdvR1Vez4DoZi9X+1ivgIPQL2R3tW87NAlPmSRHb6urPq9GD6evWheQD28Dbg5ucQuPb54Hz1cMqQ8JNSiuwkbtL75ifO9j8ULvj6SZz2ygmK9XwSfvUGpSD0ptNW9qFqXvOt9Lz1rNyA9jDRRvSQrFr022lo+aJ43vaGGkL6CL6q83D0cPQZ2ZD6J4Ho+u9kWPVqMG71tee69VmPDPH0/Br4oWoo8ActCPq/q6z0GsZs9nvAkvXIDBr5kQU68RqzMPdQoCb7jMh+9kcqrPbbe2L0QzCw69eS1vAkGhz7275A9057/vecMH74/ePY9tW9Jvi1Str3T+Yc9skJOvvxyMb7/o5C+5J2AvJ/f0D4kEl89s4M7vkuPkjxXwLK9iOz9vHC/pz3F1xY+RDR4vUSUCr2Q8Oi9xhpTvTw8Uz5K8d69YAoru6iXLj7K2Ce9YmWQPRyueDzGyqk7qh+WPD8xAbzKewe++5ByvS24VbzNMSG9xrohvBtYED6yfRu+0S2nPX1pTj0WcSs9S9GWPRUc/bsey1C93aj1vYj2UD6fJDe+4VdTPvYEIz7A1IU9ZrWlPYqZvD2cVfw9VOmFvR4SC71AZWm+Lan4PGfB3D08F327gUddPS7AmDs="]},
                    {'a': ["VVyqvSgzLz1skOY9jL3SvS9gjb071qW75nQzvp6Q9L0lnA8+zVEdvujRCz6vH4m96/skvuaUVLver5y9Mk93Pqg58r3AWBi+/sAOvaGLkryaITg9ZIeWPKuOkjwhsbU8IozHvRvCpb6C8AK+4/u5vByeob2Mppy9IvGfvXEuLD0eYEy+8AyMO0O3mDzpJvI9cbaHPJdEB76RggY+ih9zPGYDn77glXY9wwPPPWvPWz46WnU+n5KHvKTC7bxA8Qy+ukLnPWxNPL7fZc480TbdPZd+ND0T05Y9sPWnvHCOp71p+6Q9uYTbPe2VHr4k49C8sJHePTRDBr40BW28isPMvbulUj5fZSM+KTzcvVJdf74K8IU98UYOvprqXL1rXpE91Fo2voldSL5zdqi+wIPZOyRCoT5SfhA+Qo84vooZ2z1UdkK8gNlHPClCwz3Fa1I+eyQPPTmTtz0K1I68Svf7PKiAiz49l5i97LEbvSx5VT5v5R29uSQ+PVjwR7zt1oQ9UP5xvZNnAj1KakG+9f7UvIAufrp2H089L/RAPP/y7z3t/DC+XpkPPiOukLzcWje8jqDdO67hm7yZkma9rJRqvWqODj5oJka+kbwfPqpaPj5Ey/U96mjJPZUaHD7+Sc89dg9PO7hVBruOGT2+XEfXPJfv5D2pb+i7Do/0PSiRHj0="]}
                    ]
      };
      ws.send( JSON.stringify(data));
      output("send: " + JSON.stringify(data));
      // input.value = "";
      // input.focus();
    }
    
    function onCloseClick() {
      ws.close();
    }
    
    function output(str) {
      var log = document.getElementById("log");
      var escaped = str.replace(/&/, "&amp;").replace(/</, "&lt;").
        replace(/>/, "&gt;").replace(/"/, "&quot;"); // "
      log.innerHTML = escaped + "<br>" + log.innerHTML;
    }

  </script>
</head>
<body onload="init();">
  <form onsubmit="onSubmit(); return false;">
    <input type="text" id="input">
    <input type="submit" value="Send">
    <button onclick="onCloseClick(); return false;">close</button>
  </form>
  <div id="log"></div>
</body>
</html>
